.. _bmodel:

bmodel: Build a model image from isophotal analysis data.
=========================================================

**Package: isophote**

.. raw:: html

  <section id="s_usage">
  <h3>Usage</h3>
  <p>
  bmodel table output
  </p>
  </section>
  <section id="s_description">
  <h3>Description</h3>
  <p>
  The 'bmodel' task creates a 2-dimensional image file containing a
  noiseless photometric model of a source image (referred to here as the
  <span style="font-family: monospace;">"parent"</span> image). The model is built from the results of isophotal
  analysis generated by the isophote fitting task, 'ellipse'.
  </p>
  <p>
  The 'bmodel' task is a script that calls, in sequence, tasks 
  'tsort' and 'trebin' from the 'ttools' package to create a 
  temporary table with an interpolated version of the original 
  input table. This temporary table is then fed to the hidden 
  task 'model', which creates the actual model. 
  </p>
  <p>
  All information needed for building the model image is in the table
  created by 'ellipse', including the parent image name and section,
  when applicable.
  </p>
  <p>
  The modelling interval is specified by the parameters 'fulltable', 
  'minsma' and 'maxsma'. 'fulltable' should be normally set to 'yes',
  so the task will ignore 'minsma' and 'maxsma' and will use instead
  the full range of semi-major axis lengths included in the table. Care 
  must be taken when using explicitly minimum and/or maximum values, 
  because 'trebin' can also extrapolate from the original data, and 
  meaningless results may be generated in some cases.  'minsma' and 
  'maxsma' should, in general, be inside the interval of good photometry 
  available in the original table. The interpolation technique is specified 
  by the parameter 'interp'. 
  </p>
  <p>
  Outside the measured region the output image pixels are filled with 
  a constant value supplied by the 'backgr' task parameter.  
  </p>
  <p>
  If the 'highar' parameter has the value <span style="font-family: monospace;">"yes"</span>, the 3rd and 4th harmonics
  from the photometry are added to the model.  This option is most useful
  when working close to the central intensity peak (SMA &lt; 10 pixels).  As
  explained in Jedrzejewski's paper (Mon.Not.R.Astr.Soc., 226, 747, 1987),
  the sampling at small radii is prone to introduce a <span style="font-family: monospace;">"boxy"</span> (cos 4*theta)
  component.  More accurate modelling at the central region is generally
  achieved when including this component. 
  </p>
  <p>
  The modelling algorithm was evaluated with high signal-to-noise synthetic
  galaxy images. Residuals galaxy-model are usually close to 1-2% at the
  5 pixel radius, around 0.5% at the 10 pixel radius, and smaller than 0.2%
  at radii larger than 20 pixels. These results are for spline table 
  interpolation, which was found to generate the smaller residuals.
  </p>
  <p>
  The 'ttools' package must be loaded before this task can run.
  </p>
  </section>
  <section id="s_parameters">
  <h3>Parameters</h3>
  <dl id="l_table">
  <dt><b>table [file name]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='table' Line='table [file name]' -->
  <dd>ST4GEM table generated by the 'ellipse' task.
  </dd>
  </dl>
  <dl id="l_output">
  <dt><b>output [file name]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='output' Line='output [file name]' -->
  <dd>Output model image created by this task.
  </dd>
  </dl>
  <dl>
  <dt><b>(parent) [file name]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(parent) [file name]' -->
  <dd>The original source image analyzed by the 'ellipse' task,
  i.e., the input used by 'ellipse'. Parameter should normally be left empty.
  </dd>
  </dl>
  <dl>
  <dt><b>(fulltable = yes) [boolean]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(fulltable = yes) [boolean]' -->
  <dd>Use full range of semi-major axis from table ?
  </dd>
  </dl>
  <p>
  Minimum model semi-major axis.
  </dd>
  </dl>
  </p>
  <dl>
  <dt><b>(maxsma = 1.0) [real, min=0.0]</b></dt>
  <!-- Sec='PARAMETERS' Level=-1 Label='' Line='(maxsma = 1.0) [real, min=0.0]' -->
  <dd><p>
  Maximum model semi-major axis.
  </dd>
  </dl>
  </p>
  <dl>
  <dt><b>(backgr = 0.0) [real]</b></dt>
  <!-- Sec='PARAMETERS' Level=-1 Label='' Line='(backgr = 0.0) [real]' -->
  <dd><p>
  Background value to be stored in pixels outside 'maxsma'.
  </dd>
  </dl>
  </p>
  <dl>
  <dt><b>(interp = <span style="font-family: monospace;">"spline"</span>) [string, allowed values: nearest | </b></dt>
  <!-- Sec='PARAMETERS' Level=-1 Label='' Line='(interp = "spline") [string, allowed values: nearest | ' -->
  <dd><p>
  linear | poly3 | spline]
  <br>
  Interpolation technique used by the task 'trebin'.
  </dd>
  </dl>
  </p>
  <dl>
  <dt><b>(highar = no) [boolean]</b></dt>
  <!-- Sec='PARAMETERS' Level=-1 Label='' Line='(highar = no) [boolean]' -->
  <dd><p>
  Add 3rd and 4th harmonics to the model?
  </dd>
  </dl>
  </p>
  <dl>
  <dt><b>(verbose = no) [boolean]</b></dt>
  <!-- Sec='PARAMETERS' Level=-1 Label='' Line='(verbose = no) [boolean]' -->
  <dd><p>
  Print the semi-major axis being processed ?
  </dd>
  </dl>
  </p>
  </section>
  <section id="s_examples">
  <h3>Examples</h3>
  </section>
  <section id="s_bugs">
  <h3>Bugs</h3>
  </section>
  <section id="s_references">
  <h3>References</h3>
  This task was written by I.Busko
  </section>
  <section id="s_see_also">
  <h3>See also</h3>
  ellipse, trebin, tsort
  
  </section>
  
  <!-- Contents: 'NAME' 'USAGE' 'DESCRIPTION' 'PARAMETERS' 'EXAMPLES' 'BUGS' 'REFERENCES' 'SEE ALSO'  -->
  
