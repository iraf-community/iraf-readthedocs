.. _simbackgd:

simbackgd: Two-dimensional HST background simulator
===================================================

**Package: simulators**

.. raw:: html

  <section id="s_usage">
  <h3>Usage</h3>
  <p>
  simbackgd obsmode output
  </p>
  </section>
  <section id="s_description">
  <h3>Description</h3>
  <p>
  This task computes a simulated background level for HST instruments 
  with two-dimensional imaging formats (FOC, WFPC, WFPC2, NICMOS, and 
  STIS) for a given observing mode. The output is a single number 
  representing the background flux (in detected counts) per detector 
  pixel, and optionally an entire image with the same pixel format as 
  the detector specified by the mode.  The output image could, for 
  instance, be added to a user-constructed astronomical background 
  image for use as input to the `simspec' task.  
  </p>
  <p>
  The calculated background has contributions due to zodiacal light, 
  scattered earthlight, and thermal background. Zodiacal light is a 
  function of the pointing of the telescope relative to the sun. The 
  telescope pointing is set by task parameters <span style="font-family: monospace;">"det_ra"</span> and 
  <span style="font-family: monospace;">"det_dec"</span>, the sun position is set by task parameter <span style="font-family: monospace;">"time"</span>, which 
  controls the date of the observation.  The earthlight background is 
  calculated from task parameter <span style="font-family: monospace;">"earthtab"</span>, which specifies the 
  maximum permitted earthlight spectrum, and task parameter <span style="font-family: monospace;">"eshine"</span>, 
  which specifies a fraction of the maximum permitted earthlight. The 
  thermal background is calculated from <span style="font-family: monospace;">"thermtab"</span>, which specifies 
  the spectrum of the thermal background.  
  </p>
  </section>
  <section id="s_parameters">
  <h3>Parameters</h3>
  <dl id="l_obsmode">
  <dt><b>obsmode [string]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='obsmode' Line='obsmode [string]' -->
  <dd>Telescope observation mode. The observation mode is a comma- or 
  space-separated list of keywords that specifies a valid light path 
  through the telescope. (Use the `obsmode' task to review valid 
  values for the observation mode.)  The observation mode is used to 
  compute the instrument throughput, and select the point spread 
  function and the detector dimensions.
  </dd>
  </dl>
  <dl id="l_output">
  <dt><b>output [string]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='output' Line='output [string]' -->
  <dd>Output image name. If the name is left blank or set to <span style="font-family: monospace;">"none"</span>, no
  output image will be created. The image pixels will all be set to the
  computed background level, in detected counts.
  </dd>
  </dl>
  <dl>
  <dt><b>(exptime = 1.0) [real] [min = 0.0] [max = INDEF]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(exptime = 1.0) [real] [min = 0.0] [max = INDEF]' -->
  <dd>Observation exposure time in seconds.
  </dd>
  </dl>
  <dl>
  <dt><b>(det_ra = 0.0) [real] [min = 0.0] [max = 24.0]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(det_ra = 0.0) [real] [min = 0.0] [max = 24.0]' -->
  <dd>Right ascension (in hours) of the center of the detector aperture.
  </dd>
  </dl>
  <dl>
  <dt><b>(det_dec = 0.0) [real] [min = -90.0] [max = 90.0]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(det_dec = 0.0) [real] [min = -90.0] [max = 90.0]' -->
  <dd>Declination (in degrees) of the center of the detector aperture.
  </dd>
  </dl>
  <dl>
  <dt><b>(det_ang = 0.0) [real]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(det_ang = 0.0) [real]' -->
  <dd>Detector position angle (in degrees) relative to equitorial 
  coordinates. The position angle is measure counterclockwise from 
  north.
  </dd>
  </dl>
  <dl>
  <dt><b>(verbose = yes) [bool]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(verbose = yes) [bool]' -->
  <dd>If this parameter is set to yes, the task will print the number of
  background counts to STDOUT.
  </dd>
  </dl>
  <dl>
  <dt><b>(counts) [real]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(counts) [real]' -->
  <dd>The number of background counts. This is an output parameter and
  should not be set by the user.
  </dd>
  </dl>
  <dl>
  <dt><b>(wavetab = <span style="font-family: monospace;">"none"</span>) [string]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(wavetab = "none") [string]' -->
  <dd>Wavelength table An appropriate table can be generated by using 
  the `genwave' task. If a binary table is used, the wavelength 
  column name must be WAVELENGTH. If a text table is used the first 
  column is taken to be the wavelength column.  The subdirectory 
  synphot$data has text wavelength tables useful for specific HST 
  passbands.
  If no wavelength table is specified, a default wavelength set is
  used. The default wavelength table covers the wavelength range where
  the telescope and magnitude passbands are non-zero. Wavelengths are
  spaced logarithmically over this range.
  </dd>
  </dl>
  <dl>
  <dt><b>(simbackp = <span style="font-family: monospace;">""</span>) [pset]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(simbackp = "") [pset]' -->
  <dd>The parameter file containing the noise and background
  parameters. These are:
  <dl>
  <dt><b>(eshine = 0.0) [real] [min = 0.0] [max = 1.0]</b></dt>
  <!-- Sec='PARAMETERS' Level=1 Label='' Line='(eshine = 0.0) [real] [min = 0.0] [max = 1.0]' -->
  <dd>Fraction of maximum earhlight to include in spectrum
  </dd>
  </dl>
  <dl>
  <dt><b>(time = <span style="font-family: monospace;">"Jun 21 1997 1:55:42 PM"</span>) [string]</b></dt>
  <!-- Sec='PARAMETERS' Level=1 Label='' Line='(time = "Jun 21 1997 1:55:42 PM") [string]' -->
  <dd>The time of the observation. The time is used to compute solar
  position. The background light is a function of the angle between the
  sun and the telescope, so this date controls the background light
  contribution. All times are UT (Universal time).  The time may be
  entered in a variety of formats. The month field must be first,
  followed by the day of month and year. All other fields are optional
  and will be set to zero if omitted. Fields must be separated by one
  non-alphanumeric character. Months may be specified by number or any
  unique abbreviation of the English name.
  </dd>
  </dl>
  </dd>
  </dl>
  <dl>
  <dt><b>(simcatp = <span style="font-family: monospace;">""</span>) [pset]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(simcatp = "") [pset]' -->
  <dd>The parameter set containing the file and catalog parameters. The
  parameters used by this task are: 
  <dl>
  <dt><b>(detcat = <span style="font-family: monospace;">"simulators$data/detectors.dat"</span>) [string]</b></dt>
  <!-- Sec='PARAMETERS' Level=1 Label='' Line='(detcat = "simulators$data/detectors.dat") [string]' -->
  <dd>Catalog of detector dimensions. The catalog is a table containing four
  columns: the observation mode, the pixel scale, the number of pixels
  in the X dimension, and the number of pixels in the Y dimension. If
  the catalog is a binary table, the columns are named OBSMODE, SCALE,
  NX and NY. If it is a text table, they are the first through fourth
  columns. The row in the catalog is selected if the input observation
  mode is a superset of the catalog observation mode. If the table is a
  binary table, the units of the detector scale are read from the SCALE
  column units. If the table is a text table, the units are assumed to
  be arcseconds.
  </dd>
  </dl>
  <dl>
  <dt><b>(zodtab = <span style="font-family: monospace;">"simulators$data/zodiac.dat"</span>) [string]</b></dt>
  <!-- Sec='PARAMETERS' Level=1 Label='' Line='(zodtab = "simulators$data/zodiac.dat") [string]' -->
  <dd>A table of zodiacal light flux. The units of the flux are tenth
  magnitude solar type stars per square degree. The table is a function
  of ecliptic latitude and heliocentric longitude of the detector. The
  heliocentric longitude is the absolute value of the difference of the
  ecliptic longitude of the detector and the sun. The first row in the
  table contains the latitudes and the first column contains the
  longitudes at which the flux values are tabulated. The default table
  is taken from <span style="font-family: monospace;">"A.C. Levasseur-Regourd and R. Dumont, "</span>Absolute
  Photometry of Zodiacal Light,<span style="font-family: monospace;">" Astr. and Ap., 84, 277 (1980)"</span>. If the
  table name is blank or set to none, the zodiacal contribution to the
  background will be omitted.
  </dd>
  </dl>
  <dl>
  <dt><b>(earthtab = <span style="font-family: monospace;">"simulators$data/earth.dat"</span>) [string]</b></dt>
  <!-- Sec='PARAMETERS' Level=1 Label='' Line='(earthtab = "simulators$data/earth.dat") [string]' -->
  <dd>The earthlight spectrum at its maximum value. The flux is given in
  units per square arcseond. If the table name is blank or set to none,
  the earthlight contribution to the background will be omitted.
  </dd>
  </dl>
  <dl>
  <dt><b>(thermtab = <span style="font-family: monospace;">"simulators$data/thermal.dat"</span>) [string]</b></dt>
  <!-- Sec='PARAMETERS' Level=1 Label='' Line='(thermtab = "simulators$data/thermal.dat") [string]' -->
  <dd>The thermal background spectrum. The flux is given in units of square
  arcsecond. If the table name is blank or set to none, the thermal
  contribution to the background will be omitted.
  </dd>
  </dl>
  </dd>
  </dl>
  <dl>
  <dt><b>(refdata = <span style="font-family: monospace;">""</span>) [pset]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(refdata = "") [pset]' -->
  <dd>The parameter set for reference data used in calculations.
  This pset contains the telescope area, and the names of 
  the graph and component tables. For more details, type 
  <span style="font-family: monospace;">"help refdata"</span>.  
  </dd>
  </dl>
  </section>
  <section id="s_examples_">
  <h3>Examples </h3>
  <p>
  1. Simulate the background seen by detector 2 of the WFPC-2
  camera, using the F555W filter:
  </p>
  <div class="highlight-default-notranslate"><pre>
  cl&gt; simbackgd wfpc2,f555w,2 output.hhh
  </pre></div>
  </section>
  <section id="s_references">
  <h3>References</h3>
  <p>
  Written by Bernie Simon.
  </p>
  </section>
  <section id="s_see_also">
  <h3>See also</h3>
  <p>
  simimg, simnoise, obsmode, refdata
  </p>
  
  </section>
  
  <!-- Contents: 'NAME' 'USAGE' 'DESCRIPTION' 'PARAMETERS' 'EXAMPLES ' 'REFERENCES' 'SEE ALSO'  -->
  
