.. _simnoise:

simnoise: Two-dimensional HST noise simulator
=============================================

**Package: simulators**

.. raw:: html

  <section id="s_usage">
  <h3>Usage</h3>
  <p>
  simnoise obsmode output
  </p>
  </section>
  <section id="s_description">
  <h3>Description</h3>
  <p>
  This task computes a simulated noise image for HST instruments with 
  two-dimensional formats (FOC, WFPC, WFPC2, and NICMOS) for a given
  observing mode. The output image has the same dimensions as the
  detector specified by the mode. 
  </p>
  <p>
  The instrument noise is calculated from expression given by the task
  parameter noise, or if this is set to none, the NOISE parameter stored
  in the throughput table headers. The noise parameter contains an
  expression which is used to compute the mean of a Poisson random
  process. The distribution is sampled and the random noise minus its
  mean is added to each pixel.  If more than one throughput table
  contains a NOISE parameter, the strings will be concatenated with the
  &amp; operator (explained later). The noise expression can contain
  constants and the three variables t, n, and x. These represent the
  exposure time, the number of reads, and the pixel flux. Since there is
  no input image, the flux and thus the value of x, is always zero for
  this task. So, the mean will always be constant over the image. The
  noise expression may contain the following operators and functions:
  </p>
  <div class="highlight-default-notranslate"><pre>
  +       addition
  -       subtraction or negation
  *       multiplication
  /       division
  **      exponentiation
  &amp;       magnitude (e.g., 3 &amp; 4 = sqrt(3 ** 2 + 4 ** 2) = 5)
  log()   natural logarithm
  sqrt()  square root
  </pre></div>
  <p>
  Operator precedence and associativity are the same as in Fortran,
  though these can be changed by grouping with parentheses. The
  magnitude operator has lower precedence than any of the other
  operators. 
  </p>
  </section>
  <section id="s_parameters">
  <h3>Parameters</h3>
  <dl id="l_obsmode">
  <dt><b>obsmode [string]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='obsmode' Line='obsmode [string]' -->
  <dd>Telescope observation mode. The observation mode is a comma- or 
  space-separated list of keywords that specifies a valid light path 
  through the telescope. The observation mode is used to compute the 
  instrument throughput, and select the detector dimensions.
  </dd>
  </dl>
  <dl id="l_output">
  <dt><b>output [string]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='output' Line='output [string]' -->
  <dd>Output image name. The result of running this task is a single group
  image whose dimensions are set according to the detector that is to 
  be simulated. 
  </dd>
  </dl>
  <dl>
  <dt><b>(input = none) [string]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(input = none) [string]' -->
  <dd>The name of the optional input file. If this file is present, the
  noise will be added to the input. If there is no file name or the name
  is set to <span style="font-family: monospace;">"none"</span>, the noise will be added to zero.
  </dd>
  </dl>
  <dl>
  <dt><b>(noise = none) [string]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(noise = none) [string]' -->
  <dd>If this task parameter is present, the noise expression will be taken
  from it instead of being read from the noise keyword in the throughput
  table header. If it is blank or set to none, the noise expression will
  be read from the throughput tables. The syntax of the throughput
  tables is explained above.
  </dd>
  </dl>
  <dl>
  <dt><b>(exptime = 1.0) [real] [min = 0.0] [max = INDEF]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(exptime = 1.0) [real] [min = 0.0] [max = INDEF]' -->
  <dd>Observation exposure time in seconds.
  </dd>
  </dl>
  <dl>
  <dt><b>(nread = 1) [int] [min = 1, max = INDEF]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(nread = 1) [int] [min = 1, max = INDEF]' -->
  <dd>Number of detector reads to obtain the final image.  Most of the HST 
  instruments offer the capability of taking more than one exposure on 
  a target in order to reduce the detector read noise and/or detect 
  cosmic rays.  This parameter will be used in conjuction with the 
  expression for detector noise to determine the final noise level for 
  the output image.  
  </dd>
  </dl>
  <dl>
  <dt><b>(wavetab = <span style="font-family: monospace;">"none"</span>) [string]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(wavetab = "none") [string]' -->
  <dd>Wavelength table An appropriate table can be generated by using 
  the `genwave' task. If a binary table is used, the wavelength 
  column name must be WAVELENGTH. If a text table is used the first 
  column is taken to be the wavelength column.  The subdirectory 
  synphot$data has text wavelength tables useful for specific HST 
  passbands.
  If no wavelength table is specified, a default wavelength set is
  used. The default wavelength table covers the wavelength range where
  the telescope and magnitude passbands are non-zero. Wavelengths are
  spaced logarithmically over this range.
  </dd>
  </dl>
  <dl>
  <dt><b>(simbackp = <span style="font-family: monospace;">""</span>) [pset]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(simbackp = "") [pset]' -->
  <dd>The parameter file containing the noise and background
  parameters. These parameter used by this task is:
  <dl>
  <dt><b>(seed = 42) [int]</b></dt>
  <!-- Sec='PARAMETERS' Level=1 Label='' Line='(seed = 42) [int]' -->
  <dd>The seed for the random number generator used by the noise model.
  </dd>
  </dl>
  </dd>
  </dl>
  <dl>
  <dt><b>(simcatp = <span style="font-family: monospace;">""</span>) [pset]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(simcatp = "") [pset]' -->
  <dd>The parameter set containing the file and catalog parameters. The
  parameter used by this task is: 
  <dl>
  <dt><b>(detcat = <span style="font-family: monospace;">"simulators$data/detectors.dat"</span>) [string]</b></dt>
  <!-- Sec='PARAMETERS' Level=1 Label='' Line='(detcat = "simulators$data/detectors.dat") [string]' -->
  <dd>Catalog of detector dimensions. The catalog is a table containing four
  columns: the observation mode, the pixel scale, the number of pixels
  in the X dimension, and the number of pixels in the Y dimension. If
  the catalog is a binary table, the columns are named OBSMODE, SCALE,
  NX and NY. If it is a text table, they are the first through fourth
  columns. The row in the catalog is selected if the input observation
  mode is a superset of the catalog observation mode. If the table is a
  binary table, the units of the detector scale are read from the SCALE
  column units. If the table is a text table, the units are assumed to
  be arcseconds.
  </dd>
  </dl>
  </dd>
  </dl>
  <dl>
  <dt><b>(refdata = <span style="font-family: monospace;">""</span>) [pset]</b></dt>
  <!-- Sec='PARAMETERS' Level=0 Label='' Line='(refdata = "") [pset]' -->
  <dd>The parameter set for reference data used in calculations.
  This pset contains the following parameters:
  <dl>
  <dt><b>(area = 45238.93416) [real]</b></dt>
  <!-- Sec='PARAMETERS' Level=1 Label='' Line='(area = 45238.93416) [real]' -->
  <dd>HST telescope area in cm**2.
  </dd>
  </dl>
  <dl>
  <dt><b>(grtbl = <span style="font-family: monospace;">"mtab$*.tmg"</span>) [string]  </b></dt>
  <!-- Sec='PARAMETERS' Level=1 Label='' Line='(grtbl = "mtab$*.tmg") [string]  ' -->
  <dd>HST graph table.  By default, this uses the most recent version. 
  </dd>
  </dl>
  <dl>
  <dt><b>(cmptbl = <span style="font-family: monospace;">"mtab$*.tmc"</span>) [string]</b></dt>
  <!-- Sec='PARAMETERS' Level=1 Label='' Line='(cmptbl = "mtab$*.tmc") [string]' -->
  <dd>Instrument component table.  By default, this uses the most recent version.
  </dd>
  </dl>
  </dd>
  </dl>
  </section>
  <section id="s_examples_">
  <h3>Examples </h3>
  <p>
  1. Simulate the noise seen by detector 2 of the WFPC-2
  camera, using the F555W filter:
  </p>
  <div class="highlight-default-notranslate"><pre>
  cl&gt; simnoise wfpc2,f555w,2 output.hhh
  </pre></div>
  </section>
  <section id="s_references">
  <h3>References</h3>
  <p>
  Written by Bernie Simon.
  </p>
  </section>
  <section id="s_see_also">
  <h3>See also</h3>
  <p>
  simimg, simbackgd, obsmode
  </p>
  
  </section>
  
  <!-- Contents: 'NAME' 'USAGE' 'DESCRIPTION' 'PARAMETERS' 'EXAMPLES ' 'REFERENCES' 'SEE ALSO'  -->
  
